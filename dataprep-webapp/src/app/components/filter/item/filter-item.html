<!--
  ~ ============================================================================
  ~
  ~  Copyright (C) 2006-2016 Talend Inc. - www.talend.com
  ~
  ~  This source code is available under agreement available at
  ~  https://github.com/Talend/data-prep/blob/master/LICENSE
  ~
  ~  You should have received a copy of the agreement
  ~  along with this program; if not, write to Talend SA
  ~  9 rue Pages 92150 Suresnes, France
  ~
  ~ ============================================================================
  -->

<talend-badge
        ng-class="{{$ctrl.hasOnlyEmptyRecordsFilter ? 'empty_records' : $ctrl.filter.type}}"
        removable="$ctrl.removable"
        on-close="$ctrl.onClose()">

    <span ng-if="!$ctrl.filter.value"
          class="filter-item-label">
        {{$ctrl.filter.colName}}
    </span>
    <span ng-if="$ctrl.filter.value">
        <span class="filter-item-label">
            {{$ctrl.filter.colName}}{{$ctrl.sign}}
        </span>
        <form name="$ctrl.editBadgeValueForm">
            <ol class="filter-item-value"
                ng-class="{'multi': $ctrl.filter.value.length > 1}"
                ng-repeat="filterValue in $ctrl.filter.value track by $index">

                <li>
                    <filter-value ng-model="filterValue"
                                  ng-blur="$ctrl.manageChange()"
                                  ng-focus="$ctrl.tempValue = filterValue.value"
                                  editable="$ctrl.editable"
                                  removable="!($first && $last)"
                                  remove="$ctrl.remove($index)"></filter-value>
                </li>
            </ol>
        </form>
    </span>
</talend-badge>